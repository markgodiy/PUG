# DNS Servers changed? Are you DHCP-enabled? How to set DNS using PowerShell.
    
## In light of the recent DC/DNS server changes, here are three PowerShell commands that may be useful:

1. `Get-NetIPConfiguration`

Equivalent to `ipconfig`, checks your current active network configuration, including the DNSServer addresses.

`Get-NetIPConfiguration -all` is equivalent to `ipconfig /all`

*Make note of the result `InterfaceIndex` and `InterfaceAlias` properties


2. `Get-NetIPInterface`

With the intel you now have from running the previous commandlet, use this commandlet to check if your network adapter is DHCP-enabled. Use the Select-Object helper commandlet to control which columns are displayed.

Example, Interfaceindex is "4"

```
Get-NetIPInterface -InterfaceIndex 4 | Select-Object Ifindex,InterfaceAlias,AddressFamily,DHCP
```

3. `Set-DnsClientServerAddress`

If your network adapter is not DHCP enabled, you may need to manually set the DNS server address. 

First, set a variable with the new DNS server addresses

```
$newdns = @('xxx.xxx.xxx.158','xxx.xxx.xxx.159')
```

Then, run `Set-NetIPConfiguration` command. Change the InterfaceIndex parameter value as it applies to your system.

```
Set-DnsClientServerAddress -InterfaceIndex 4 -ServerAddresses $newdns
```
